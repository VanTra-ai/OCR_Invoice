<action-landmark>
  <div class="range-slider">
    <input
      class="input-range"
      type="range"
      step="1"
      value="{this.featurePointSize"
      ||
      4}
      min="3"
      max="100"
      onchange="{changeScale}"
    />
  </div>
  <script>
    this.changeScale = (e) => {
      if (
        !window.labellingData ||
        !window.imgSelected ||
        !labellingData[imgSelected.name]
      ) {
        alert("Không tìm thấy dữ liệu ảnh hoặc label!");
        return;
      }
      this.featurePointSize = labellingData[imgSelected.name].featurePointSize =
        e.target.value;
      const points = document.querySelectorAll(".labelpoint");
      if (!points.length) {
        console.warn("Không tìm thấy labelpoint để đổi kích thước");
        return;
      }
      points.forEach((el) => el.setAttribute("r", e.target.value));
    };

    this.on("mount", () => {
      if (
        window.labellingData &&
        window.imgSelected &&
        labellingData[imgSelected.name]
      ) {
        this.featurePointSize =
          labellingData[imgSelected.name].featurePointSize;
      }
    });
  </script>
</action-landmark>
